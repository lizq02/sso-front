<!DOCTYPE html>
<html style="height: 100%;">
<head>
    <title>权限管理系统</title>
    <meta charset="utf-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">

    <link type="text/css" rel="stylesheet" href="lib/layui/css/layui.css">
    <script type="text/javascript" src="lib/layui/layui.js"></script>

    <script type="text/javascript" src="lib/jquery/jquery-3.4.1.js"></script>

    <!--bootstrap配置-->
    <script type="text/javascript" src="lib/bootstrap/bootstrap.min.js"></script>
    <link type="text/css" rel="stylesheet" href="lib/bootstrap/bootstrap.min.css"/>

    <!--引入系统js-->
    <script type="text/javascript" src="js/common.js"></script>
    <link type="text/css" rel="stylesheet" href="css/common.css"/>
</head>
<body style="height: 100%;">
  <div class="layui-fluid" style="height: 100%;"> 
    <div class="layui-container" style="width: auto;height: 100%;">
      <div class="layui-row" style="height: 100%;">
        <div class="layui-col-xs12 layui-col-sm12 layui-col-md12">
          <ul class="layui-nav" lay-filter="">
            <li class="layui-nav-item">权限管理系统</li>
          </ul>
        </div>
        <div class="layui-col-xs4 layui-col-sm3 layui-col-md2" style="height: 93%;">
          <ul class="layui-nav layui-nav-tree" lay-filter="" style="height: 100%;width: auto;">
            <li class="layui-nav-item layui-this"><a href="">用户管理</a></li>
            <li class="layui-nav-item"><a href="">角色管理</a></li>
          </ul>
        </div>
        <div class="layui-col-xs8 layui-col-sm9 layui-col-md10">
          <table id="role" lay-filter="test"></table>
        </div>
      </div>
    </div>
  </div>
</body>

<script>
layui.use(['element', 'table'], function(){
  var element = layui.element;
  var table = layui.table;
  
  // 页面初始化
  init();

  // 表格初始化 ------------------
  function init(){
    $.ajax({               
                        type: "POST",//请求的方式
                        url: "http://121.89.247.247:9999/sysRole/page",//请求的接口
                        // data: postData,//参数（可传可不传递）
                        dataType: "json",//数据类型
                        async:false,
                        success: function (res) {    
                            console.log(data);
                        },
                        error:function(err){
                        //失败之后执行（我不管，失败别找我i）
                            obj=err;
                            alert("数据不存在") 
                        }                
                    })            
  }

  //第一个实例
  table.render({
    elem: '#role'
    ,height: "80%"
    ,url: 'http://121.89.247.247:9999/sysRole/page' //数据接口
    ,page: true //开启分页
    ,limit: 10
    ,cols: [[ //表头
      {field: 'id', title: 'ID', width:80, sort: true, fixed: 'left'}
      ,{field: 'username', title: '用户名', width:80}
      ,{field: 'sex', title: '性别', width:80, sort: true}
      ,{field: 'city', title: '城市', width:80} 
      ,{field: 'sign', title: '签名', width: 177}
      ,{field: 'experience', title: '积分', width: 80, sort: true}
      ,{field: 'score', title: '评分', width: 80, sort: true}
      ,{field: 'classify', title: '职业', width: 80}
      ,{field: 'wealth', title: '财富', width: 135, sort: true}
    ]]
  });
});
</script> 
</html>